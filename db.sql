/* CREACION DE LA BASE DE DATOS */
USE master
GO
CREATE DATABASE CONTRATO
ON PRIMARY
(
	NAME=CONTRATO,
	FILENAME='F:\CONTRATO.mdf',
	SIZE=3MB,
	MAXSIZE=unlimited,
	FILEGROWTH=3%
)
LOG ON
(
	NAME=CONTRATO_log,
	FILENAME='F:\CONTRATO_log.ldf',
	SIZE=3MB,
	MAXSIZE=unlimited,
	FILEGROWTH=1%
)
GO

/* CREACION DE TABLAS */
USE CONTRATO
GO
CREATE TABLE EQUIPO
(
	IDE_EQU CHAR(6) NOT NULL,
	COD_TIP_EQU CHAR(6) NOT NULL,
	DESC_EQU VARCHAR(50) NOT NULL,
	PRE_EQU MONEY NULL,
	COD_EST CHAR(6) NULL
)
GO
CREATE TABLE ESTADO_EQUIPO
(
	COD_EST CHAR(6) NOT NULL,
	DES_EST VARCHAR(100)
)
GO
CREATE TABLE TIPO_EQUIPO
(
	COD_TIP_EQU CHAR(6) NOT NULL,
	DES_TIP VARCHAR(100) NOT NULL
)
GO

ALTER TABLE EQUIPO ADD PRIMARY KEY (IDE_EQU)
GO
ALTER TABLE ESTADO_EQUIPO ADD PRIMARY KEY (COD_EST)
GO
ALTER TABLE TIPO_EQUIPO ADD PRIMARY KEY (COD_TIP_EQU)
GO

ALTER TABLE EQUIPO
ADD FOREIGN KEY (COD_TIP_EQU)
REFERENCES TIPO_EQUIPO
GO

ALTER TABLE EQUIPO
ADD FOREIGN KEY (COD_EST)
REFERENCES ESTADO_EQUIPO
GO

-- REGISTROS DE LA TABLA: TIPO DE EQUIPO
INSERT INTO TIPO_EQUIPO VALUES
('TIP001','MONITOR'),
('TIP002','MOUSE'),
('TIP003','PARLANTES'),
('TIP004','TECLADO'),
('TIP005','CPU'),
('TIP006','LAPTOP'),
('TIP007','AUDIFONOS'),
('TIP008','PROYECTOR'),
('TIP009','IMPRESORA'),
('TIP010','FOTOCOPIADORA')
GO

-- REGISTROS DE LA TABLA: ESTADO EQUIPO
INSERT INTO ESTADO_EQUIPO VALUES
('0','DISPONIBLE'),
('1','OCUPADO')
GO

-- REGISTROS DE LA TABLA: EQUIPO
INSERT INTO EQUIPO VALUES
('EQ0001','TIP001','MONITOR DELL 1717F',200,'0'),
('EQ0002','TIP002','MOUSE HP', 15, '0'),
('EQ0003','TIP003','PARLANTES', 50, '1'),
('EQ0004','TIP004','TECLADO GENIUS', 40, '0'),
('EQ0005','TIP005','CPU ASUS', 250,'0'),
('EQ0006','TIP006','LAPTOP TOSHIBA', 800,'1'),
('EQ0007','TIP007','AUDIFONOS SONNY', 30, '0'),
('EQ0008','TIP008','PROYECTOR CANON', 500,'1'),
('EQ0009','TIP009','IMPRESORA EPSON', 200,'0'),
('EQ0010','TIP010','FOTOCOPIADORA RICOH',750,'0')
GO
